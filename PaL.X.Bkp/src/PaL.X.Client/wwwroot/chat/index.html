<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <!-- CSP: Sécurité stricte. Autorise les scripts/styles locaux et les images depuis notre hôte virtuel sécurisé -->
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; img-src 'self' https://assets.pal.x https://smileys.pal.x data:; style-src 'self' 'unsafe-inline'; script-src 'self' 'unsafe-inline';">
    <link rel="stylesheet" href="style.css">
    <title>PaL.X Chat</title>
</head>
<body>
    <div id="app-container">
        <div id="chat-history">
            <!-- Les messages seront injectés ici dynamiquement -->
        </div>
        <div id="input-area">
            <!-- contenteditable="true" permet d'avoir du texte riche (gras, images) directement dans la zone de saisie -->
            <div id="message-input" contenteditable="true" placeholder="Écrivez votre message..."></div>
            <button id="smiley-btn" class="tool-btn" title="Insérer un smiley">
                <svg viewBox="0 0 24 24" width="24" height="24" fill="#f7b928"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3.5-9c.83 0 1.5-.67 1.5-1.5S16.33 8 15.5 8 14 8.67 14 9.5s.67 1.5 1.5 1.5zm-7 0c.83 0 1.5-.67 1.5-1.5S9.33 8 8.5 8 7 8.67 7 9.5 7.67 11 8.5 11zm3.5 6.5c2.33 0 4.31-1.46 5.11-3.5H6.89c.8 2.04 2.78 3.5 5.11 3.5z"/></svg>
            </button>
            <button id="send-btn" class="tool-btn">
                <svg viewBox="0 0 24 24" width="24" height="24" fill="currentColor"><path d="M2.01 21L23 12 2.01 3 2 10l15 2-15 2z"></path></svg>
            </button>
        </div>
        
        <!-- Smiley Picker -->
        <div id="smiley-picker" class="hidden">
            <div id="smiley-tabs"></div>
            <div id="smiley-grid"></div>
        </div>
    </div>
    
    <!-- TODO: Intégrer DOMPurify ici pour la sanitization locale -->
    <script src="script.js"></script>
</body>
</html>